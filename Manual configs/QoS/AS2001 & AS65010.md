# R-SEDE-A / R-FILIAL-A

```c
conf t
!
class-map match-any CONTROLO
 match access-group name DNS
 match access-group name ICMP
!
class-map match-any CONSOLA
 match access-group name TELNET
 match access-group name SSH
!
class-map match-all TRANSFER
 match protocol tftp
!
policy-map QOS_SAIDA
 class CONTROLO
  priority percent 5
 class CONSOLA
  bandwidth percent 15 
 class TRANSFER
  bandwidth percent 30 
!
interface FastEthernet0/0
 ip nbar protocol-discovery
 service-policy output QOS_SAIDA
!
ip access-list extended DNS
 permit tcp any any eq domain
 permit udp any any eq domain
!
ip access-list extended ICMP
 permit icmp any any
!
ip access-list extended SSH
 permit tcp any any eq 22
!
ip access-list extended TELNET
 permit tcp any any eq telnet
!
end

```

# AS2001

## R-2001-A

```c
conf t
!
class-map match-any CONTROLO
 match access-group name DNS
 match access-group name ICMP
!
class-map match-any CONSOLA
 match access-group name TELNET
 match access-group name SSH
!
class-map match-all TRANSFER
 match protocol tftp
!
class-map match-any GOLD
 match ip precedence 5 
 match mpls experimental topmost 5 
!
class-map match-any SILVER
 match ip precedence 3 
 match mpls experimental topmost 3 
!
class-map match-any BRONZE
 match ip precedence 2 
 match mpls experimental topmost 2 
!
policy-map QOS_SAIDA
 class GOLD
  priority percent 10
 class SILVER
  bandwidth percent 20 
 class BRONZE
  bandwidth percent 40 
 class class-default
  fair-queue
!
policy-map QOS_SAIDA_Empresa
 class GOLD
  priority percent 5
 class SILVER
  bandwidth percent 15 
 class BRONZE
  bandwidth percent 30 
!
policy-map MARCAR
 class CONTROLO
  set precedence 5
  set mpls experimental topmost 5
 class CONSOLA
  set precedence 3
  set mpls experimental topmost 3
 class TRANSFER
  set precedence 2
  set mpls experimental topmost 2
 class class-default
  set precedence 0
  set mpls experimental topmost 0
!
interface f0/0
 service-policy output QOS_SAIDA
!
interface f0/1
 service-policy output QOS_SAIDA
!
interface f1/0
 service-policy input MARCAR
 service-policy output QOS_SAIDA_Empresa
!
ip access-list extended DNS
 permit tcp any any eq domain
 permit udp any any eq domain

ip access-list extended ICMP
 permit icmp any any
!
ip access-list extended SSH
 permit tcp any any eq 22
!
ip access-list extended TELNET
 permit tcp any any eq telnet
!
end

```

## R-2001-B

```C
conf t
!
class-map match-any CONTROLO
 match access-group name DNS
 match access-group name ICMP
!
class-map match-any CONSOLA
 match access-group name TELNET
 match access-group name SSH
!
class-map match-all TRANSFER
 match protocol tftp
!
class-map match-any GOLD
 match ip precedence 5 
 match mpls experimental topmost 5 
!
class-map match-any SILVER
 match ip precedence 3 
 match mpls experimental topmost 3 
!
class-map match-any BRONZE
 match ip precedence 2 
 match mpls experimental topmost 2 
!
policy-map QOS_SAIDA
 class GOLD
  priority percent 10
 class SILVER
  bandwidth percent 20 
 class BRONZE
  bandwidth percent 40 
 class class-default
  fair-queue
!
policy-map QOS_2002
 class GOLD
  priority percent 5
 class SILVER
  bandwidth percent 15 
 class BRONZE
  bandwidth percent 30 
!
policy-map MARCAR
 class CONTROLO
  set precedence 5
  set mpls experimental topmost 5
 class CONSOLA
  set precedence 3
  set mpls experimental topmost 3
 class TRANSFER
  set precedence 2
  set mpls experimental topmost 2
 class class-default
  set precedence 0
  set mpls experimental topmost 0
!
interface f0/0
 service-policy output QOS_SAIDA
!
interface f0/1
 service-policy output QOS_SAIDA
!
interface f1/0
 service-policy input MARCAR
 service-policy output QOS_SAIDA_Empresa
!
interface f1/1
 service-policy input MARCAR
 service-policy output QOS_2002
!
interface f2/0
 service-policy input MARCAR
 service-policy output QOS_2002
!
interface f2/1
 service-policy input MARCAR
 service-policy output QOS_2002
!
interface f3/0
 service-policy input MARCAR
 service-policy output QOS_2002
!
interface f3/1
 service-policy input MARCAR
 service-policy output QOS_2002
!
ip access-list extended DNS
 permit tcp any any eq domain
 permit udp any any eq domain

ip access-list extended ICMP
 permit icmp any any
!
ip access-list extended SSH
 permit tcp any any eq 22
!
ip access-list extended TELNET
 permit tcp any any eq telnet
!
end

```

## R-2001-C

```C
conf t
!
class-map match-any CONTROLO
 match access-group name DNS
 match access-group name ICMP
!
class-map match-any CONSOLA
 match access-group name TELNET
 match access-group name SSH
!
class-map match-all TRANSFER
 match protocol tftp
!
class-map match-any GOLD
 match ip precedence 5 
 match mpls experimental topmost 5 
!
class-map match-any SILVER
 match ip precedence 3 
 match mpls experimental topmost 3 
!
class-map match-any BRONZE
 match ip precedence 2 
 match mpls experimental topmost 2 
!
policy-map QOS_SAIDA
 class GOLD
  priority percent 10
 class SILVER
  bandwidth percent 20 
 class BRONZE
  bandwidth percent 40 
 class class-default
  fair-queue
!
policy-map QOS_SAIDA_Empresa
 class GOLD
  priority percent 5
 class SILVER
  bandwidth percent 15 
 class BRONZE
  bandwidth percent 30 
!
policy-map MARCAR
 class CONTROLO
  set precedence 5
  set mpls experimental topmost 5
 class CONSOLA
  set precedence 3
  set mpls experimental topmost 3
 class TRANSFER
  set precedence 2
  set mpls experimental topmost 2
 class class-default
  set precedence 0
  set mpls experimental topmost 0
!
interface f0/0
 service-policy output QOS_SAIDA
!
interface f0/1
 service-policy output QOS_SAIDA
!
interface f1/0
 service-policy input MARCAR
 service-policy output QOS_SAIDA_Empresa
!
interface f1/1
 service-policy input MARCAR
 service-policy output QOS_SAIDA_Empresa
!
interface f2/0
 service-policy input MARCAR
 service-policy output QOS_SAIDA_Empresa
!
interface f2/1
 service-policy input MARCAR
 service-policy output QOS_SAIDA_Empresa
!
ip access-list extended DNS
 permit tcp any any eq domain
 permit udp any any eq domain

ip access-list extended ICMP
 permit icmp any any
!
ip access-list extended SSH
 permit tcp any any eq 22
!
ip access-list extended TELNET
 permit tcp any any eq telnet
!
end

```

## R-2001-D

```c
conf t
!
class-map match-any GOLD
 match ip precedence 5 
 match mpls experimental topmost 5 
!
class-map match-any BRONZE
 match ip precedence 2 
 match mpls experimental topmost 2 
!
class-map match-any SILVER
 match ip precedence 3 
 match mpls experimental topmost 3 
!
policy-map QOS_SAIDA
 class GOLD
  priority percent 10
 class SILVER
  bandwidth percent 20 
 class BRONZE
  bandwidth percent 40 
 class class-default
  fair-queue
!
interface f0/0
 service-policy output QOS_SAIDA
!
interface f0/1
 service-policy output QOS_SAIDA
!
end

```